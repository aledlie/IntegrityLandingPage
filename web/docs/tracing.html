<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributed Tracing & EU AI Act Compliance | Integrity Studio</title>
    <meta name="description" content="How distributed tracing and observability help achieve EU AI Act compliance through automatic logging, record-keeping, and audit trails.">
    <link rel="canonical" href="https://www.integritystudio.ai/docs/tracing">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #111118;
            --bg-tertiary: #1a1a24;
            --bg-card: #16161f;
            --border-color: #2a2a3a;
            --text-primary: #f5f5f7;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --accent-blue: #3b82f6;
            --accent-blue-light: #60a5fa;
            --accent-purple: #8b5cf6;
            --accent-green: #22c55e;
            --accent-yellow: #eab308;
            --accent-red: #ef4444;
            --gradient-start: #3b82f6;
            --gradient-end: #8b5cf6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
        }

        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
            z-index: 100;
            padding: 0 2rem;
        }

        .nav-inner {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .nav-brand svg {
            width: 28px;
            height: 28px;
            color: var(--accent-blue);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--text-primary);
        }

        /* Layout */
        .layout {
            display: flex;
            margin-top: 64px;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 64px;
            left: 0;
            width: 280px;
            height: calc(100vh - 64px);
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 1.5rem 0;
        }

        .sidebar-section {
            padding: 0 1.5rem;
            margin-bottom: 1.5rem;
        }

        .sidebar-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .sidebar-nav {
            list-style: none;
        }

        .sidebar-nav li {
            margin-bottom: 0.25rem;
        }

        .sidebar-nav a {
            display: block;
            padding: 0.5rem 0.75rem;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            border-radius: 6px;
            transition: all 0.2s;
        }

        .sidebar-nav a:hover,
        .sidebar-nav a.active {
            color: var(--text-primary);
            background: var(--bg-tertiary);
        }

        .sidebar-nav a.active {
            border-left: 2px solid var(--accent-blue);
            padding-left: calc(0.75rem - 2px);
        }

        /* Main Content */
        .main {
            margin-left: 280px;
            flex: 1;
            min-height: calc(100vh - 64px);
        }

        .content {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem 2rem 6rem;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 3rem;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(59, 130, 246, 0.15));
            border: 1px solid rgba(34, 197, 94, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 100px;
            font-size: 0.85rem;
            color: var(--accent-green);
            margin-bottom: 1.5rem;
        }

        .hero h1 {
            font-size: 2.75rem;
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        /* Typography */
        h2 {
            font-size: 1.75rem;
            font-weight: 600;
            margin: 3rem 0 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        h2:first-of-type {
            margin-top: 0;
            border-top: none;
            padding-top: 0;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 2rem 0 0.75rem;
            color: var(--text-primary);
        }

        h4 {
            font-size: 1rem;
            font-weight: 600;
            margin: 1.5rem 0 0.5rem;
            color: var(--text-secondary);
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Lists */
        ul, ol {
            margin: 0 0 1rem 1.5rem;
            color: var(--text-secondary);
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Code */
        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875em;
            background: var(--bg-tertiary);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            color: var(--accent-blue-light);
        }

        pre {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.25rem;
            overflow-x: auto;
            margin: 1rem 0 1.5rem;
        }

        pre code {
            background: none;
            padding: 0;
            font-size: 0.85rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        /* Tables */
        .table-wrapper {
            overflow-x: auto;
            margin: 1rem 0 1.5rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th, td {
            text-align: left;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td {
            color: var(--text-secondary);
        }

        tr:hover td {
            background: rgba(59, 130, 246, 0.05);
        }

        /* Callouts */
        .callout {
            border-radius: 8px;
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
            border-left: 3px solid;
        }

        .callout-info {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--accent-blue);
        }

        .callout-success {
            background: rgba(34, 197, 94, 0.1);
            border-color: var(--accent-green);
        }

        .callout-warning {
            background: rgba(234, 179, 8, 0.1);
            border-color: var(--accent-yellow);
        }

        .callout-danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--accent-red);
        }

        .callout-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .callout p:last-child {
            margin-bottom: 0;
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: border-color 0.2s, transform 0.2s;
        }

        .card:hover {
            border-color: var(--accent-blue);
            transform: translateY(-2px);
        }

        .card-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.2));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .card h4 {
            margin: 0 0 0.5rem;
            color: var(--text-primary);
        }

        .card p {
            font-size: 0.9rem;
            margin: 0;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 2rem;
            margin: 1.5rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--accent-blue), var(--accent-purple));
        }

        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2rem;
            top: 0.25rem;
            width: 12px;
            height: 12px;
            background: var(--accent-blue);
            border-radius: 50%;
            border: 2px solid var(--bg-primary);
        }

        .timeline-date {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent-blue-light);
            margin-bottom: 0.25rem;
        }

        .timeline-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .timeline-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Metric Highlight */
        .metric-highlight {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05));
            border: 1px solid rgba(34, 197, 94, 0.3);
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-weight: 600;
            color: var(--accent-green);
        }

        /* Architecture Diagram */
        .architecture {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            overflow-x: auto;
            white-space: pre;
            color: var(--text-secondary);
        }

        /* Section Anchor */
        .section-anchor {
            scroll-margin-top: 80px;
        }

        /* Links */
        a {
            color: var(--accent-blue-light);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                display: none;
            }
            .main {
                margin-left: 0;
            }
        }

        @media (max-width: 640px) {
            .hero h1 {
                font-size: 2rem;
            }
            .hero p {
                font-size: 1rem;
            }
            .content {
                padding: 2rem 1rem;
            }
            .card-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="/" class="nav-brand">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                </svg>
                Integrity Studio
            </a>
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="/docs">Docs</a>
                <a href="/blog">Blog</a>
                <a href="/about">About</a>
            </div>
        </div>
    </nav>

    <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">Tracing Guide</div>
                <ul class="sidebar-nav">
                    <li><a href="#overview" class="active">Overview</a></li>
                    <li><a href="#eu-ai-act">EU AI Act Context</a></li>
                    <li><a href="#article-12">Article 12 Requirements</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Implementation</div>
                <ul class="sidebar-nav">
                    <li><a href="#distributed-tracing">Distributed Tracing</a></li>
                    <li><a href="#logging-setup">Logging Setup</a></li>
                    <li><a href="#data-collection">Data Collection</a></li>
                    <li><a href="#storage-retention">Storage & Retention</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Compliance</div>
                <ul class="sidebar-nav">
                    <li><a href="#compliance-checklist">Compliance Checklist</a></li>
                    <li><a href="#audit-trails">Audit Trails</a></li>
                    <li><a href="#pii-protection">PII Protection</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <div class="sidebar-title">Resources</div>
                <ul class="sidebar-nav">
                    <li><a href="/docs/llm-observability">Full Observability Guide</a></li>
                    <li><a href="#sources">Sources & References</a></li>
                </ul>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main">
            <!-- Hero -->
            <div class="hero">
                <div class="hero-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"/>
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    EU AI Act Compliant
                </div>
                <h1>Distributed Tracing for AI Compliance</h1>
                <p>How OpenTelemetry tracing enables EU AI Act compliance through automatic logging, record-keeping, and auditable AI operations.</p>
            </div>

            <div class="content">
                <!-- Overview -->
                <section id="overview" class="section-anchor">
                    <h2>Overview</h2>
                    <p>The <strong>EU AI Act</strong> establishes comprehensive requirements for AI systems operating in the European Union. For high-risk AI systems, <strong>automatic logging and traceability</strong> are not optional&mdash;they're legal requirements.</p>

                    <p>Distributed tracing with OpenTelemetry provides the technical foundation to meet these requirements:</p>

                    <div class="card-grid">
                        <div class="card">
                            <div class="card-icon">&#128209;</div>
                            <h4>Automatic Logging</h4>
                            <p>Capture every AI operation, decision, and interaction without manual intervention.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">&#128279;</div>
                            <h4>End-to-End Traceability</h4>
                            <p>Track requests across distributed systems with correlated trace IDs.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">&#128202;</div>
                            <h4>Audit-Ready Evidence</h4>
                            <p>Generate compliance artifacts that auditors and regulators expect.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">&#128274;</div>
                            <h4>PII Protection</h4>
                            <p>Auto-redact sensitive data while maintaining operational visibility.</p>
                        </div>
                    </div>

                    <div class="callout callout-warning">
                        <div class="callout-title">&#9888;&#65039; Compliance Deadline</div>
                        <p><strong>August 2, 2026</strong> marks full enforcement of the EU AI Act. Organizations should begin implementation now&mdash;conformity assessment alone takes 6-12 months. Penalties can reach up to <strong>&euro;35M or 7% of global revenue</strong>.</p>
                    </div>
                </section>

                <!-- EU AI Act Context -->
                <section id="eu-ai-act" class="section-anchor">
                    <h2>EU AI Act Context</h2>

                    <p>The EU AI Act entered into force on <strong>August 1, 2024</strong> and establishes a risk-based regulatory framework for AI systems. Tracing and logging requirements primarily apply to <strong>high-risk AI systems</strong>.</p>

                    <h3>Key Compliance Timeline</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-date">February 2, 2025</div>
                            <div class="timeline-title">Prohibited AI Practices</div>
                            <div class="timeline-desc">Ban on social scoring, manipulative AI, and certain biometric systems.</div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">August 2, 2025</div>
                            <div class="timeline-title">GPAI Model Rules</div>
                            <div class="timeline-desc">Governance rules and obligations for general-purpose AI models.</div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">August 2, 2026</div>
                            <div class="timeline-title">Full Enforcement</div>
                            <div class="timeline-desc">All high-risk AI system requirements become fully applicable.</div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">August 2, 2027</div>
                            <div class="timeline-title">Product-Embedded AI</div>
                            <div class="timeline-desc">Extended deadline for high-risk AI embedded in regulated products.</div>
                        </div>
                    </div>

                    <h3>Who Must Comply?</h3>
                    <p>The regulation applies to:</p>
                    <ul>
                        <li><strong>Providers</strong> &mdash; Organizations developing or placing AI systems on the market</li>
                        <li><strong>Deployers</strong> &mdash; Organizations using AI systems in their operations</li>
                        <li><strong>Importers</strong> &mdash; Entities bringing AI systems into the EU market</li>
                        <li><strong>Distributors</strong> &mdash; Those making AI systems available in the supply chain</li>
                    </ul>

                    <div class="callout callout-info">
                        <div class="callout-title">&#128161; Global Impact</div>
                        <p>Even organizations outside the EU must comply if their AI systems are used within the EU market or their outputs affect EU residents.</p>
                    </div>
                </section>

                <!-- Article 12 Requirements -->
                <section id="article-12" class="section-anchor">
                    <h2>Article 12: Record-Keeping Requirements</h2>

                    <p><strong>Article 12</strong> of the EU AI Act mandates automatic logging capabilities for high-risk AI systems. This is where distributed tracing becomes essential.</p>

                    <h3>Core Requirements</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Requirement</th>
                                    <th>Description</th>
                                    <th>How Tracing Helps</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Automatic Recording</strong></td>
                                    <td>Systems must technically allow for automatic recording of events (logs) over lifetime</td>
                                    <td>OpenTelemetry auto-instruments all operations</td>
                                </tr>
                                <tr>
                                    <td><strong>Traceability</strong></td>
                                    <td>Logging must enable tracing of system functioning appropriate to intended purpose</td>
                                    <td>Distributed traces link all related operations</td>
                                </tr>
                                <tr>
                                    <td><strong>Risk Identification</strong></td>
                                    <td>Logs must help identify situations where system may present a risk</td>
                                    <td>Anomaly detection on trace data</td>
                                </tr>
                                <tr>
                                    <td><strong>Post-Market Monitoring</strong></td>
                                    <td>Enable ongoing monitoring after deployment</td>
                                    <td>Real-time dashboards and alerts</td>
                                </tr>
                                <tr>
                                    <td><strong>Human Verification</strong></td>
                                    <td>Record who verified results and when</td>
                                    <td>User attribution in span attributes</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>What Must Be Logged</h3>
                    <p>Article 12 specifically requires recording:</p>
                    <ul>
                        <li><strong>Period of use</strong> &mdash; When the system was active and processing</li>
                        <li><strong>Reference databases</strong> &mdash; Which data sources were consulted</li>
                        <li><strong>Input data</strong> &mdash; What data was processed (with appropriate redaction)</li>
                        <li><strong>Personnel identification</strong> &mdash; Who verified the results</li>
                        <li><strong>Significant changes</strong> &mdash; Any modifications to system behavior</li>
                    </ul>

                    <pre><code>// Example: OpenTelemetry span with Article 12 attributes
await withSpan('ai.decision', {
  // Period of use
  'ai.operation.start_time': new Date().toISOString(),

  // Reference databases
  'ai.database.name': 'customer_embeddings_v2',
  'ai.database.version': '2024.1.3',

  // Input data (redacted)
  'ai.input.type': 'customer_query',
  'ai.input.tokens': 150,

  // Personnel verification
  'ai.verifier.id': 'operator_12345',
  'ai.verifier.role': 'human_reviewer',

  // Model information
  'gen_ai.system': 'anthropic',
  'gen_ai.request.model': 'claude-opus-4-5-20251101',
}, async (span) => {
  // AI operation logic
});</code></pre>
                </section>

                <!-- Distributed Tracing -->
                <section id="distributed-tracing" class="section-anchor">
                    <h2>Distributed Tracing Implementation</h2>

                    <p>Distributed tracing tracks requests as they flow through your AI system, creating a complete audit trail that satisfies Article 12 requirements.</p>

                    <h3>Architecture Overview</h3>
                    <div class="architecture">AI Application
       |
       v
+------------------+
| OpenTelemetry    |
| SDK              |
+------------------+
       |
       +---> Traces (request flows)
       |        - Span hierarchy
       |        - Timing data
       |        - Attributes
       |
       +---> Metrics (aggregations)
       |        - Token counts
       |        - Cost tracking
       |        - Error rates
       |
       +---> Logs (events)
                - Structured logs
                - Correlated to traces
                - PII redacted
       |
       v
+------------------+
| OTLP Exporter    |
+------------------+
       |
       +---> SigNoz Cloud
       |       (compliance dashboard)
       |
       +---> Local Files
               (backup retention)</div>

                    <h3>Key Tracing Concepts</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Concept</th>
                                    <th>Description</th>
                                    <th>Compliance Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Trace</strong></td>
                                    <td>Complete journey of a request through the system</td>
                                    <td>Full audit trail for each AI operation</td>
                                </tr>
                                <tr>
                                    <td><strong>Span</strong></td>
                                    <td>Individual unit of work within a trace</td>
                                    <td>Granular logging of each step</td>
                                </tr>
                                <tr>
                                    <td><strong>Trace ID</strong></td>
                                    <td>Unique identifier linking all spans</td>
                                    <td>Correlate logs across services</td>
                                </tr>
                                <tr>
                                    <td><strong>Attributes</strong></td>
                                    <td>Key-value metadata on spans</td>
                                    <td>Record required Article 12 data</td>
                                </tr>
                                <tr>
                                    <td><strong>Events</strong></td>
                                    <td>Timestamped logs within a span</td>
                                    <td>Document significant occurrences</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Sample Implementation</h3>
                    <pre><code>import { initTelemetry, withSpan, logger, shutdown } from './lib/otel';

// Initialize at application startup
initTelemetry();

// Trace an AI inference operation
async function processAIRequest(request: AIRequest) {
  return withSpan('ai.inference', {
    // Required Article 12 attributes
    'ai.system.version': '2.1.0',
    'ai.input.type': request.type,
    'ai.deployer.id': process.env.DEPLOYER_ID,
    'ai.operator.id': request.operatorId,
  }, async (span) => {

    // Log the operation start
    logger.info('AI inference started', {
      requestId: request.id,
      inputTokens: request.tokens,
    });

    // Perform inference
    const result = await model.generate(request.prompt);

    // Record output metadata
    span.setAttributes({
      'ai.output.tokens': result.tokens,
      'ai.output.confidence': result.confidence,
      'ai.processing.duration_ms': result.latency,
    });

    // Log completion
    logger.info('AI inference completed', {
      requestId: request.id,
      outputTokens: result.tokens,
    });

    return result;
  });
}

// Graceful shutdown exports pending telemetry
process.on('SIGTERM', async () => {
  await shutdown();
});</code></pre>
                </section>

                <!-- Logging Setup -->
                <section id="logging-setup" class="section-anchor">
                    <h2>Logging Setup</h2>

                    <p>Structured logging with trace correlation ensures all events can be connected to their originating request.</p>

                    <h3>Log Forwarding Options</h3>
                    <div class="card-grid">
                        <div class="card">
                            <div class="card-icon">&#128230;</div>
                            <h4>Fluent Bit / Fluentd</h4>
                            <p>Lightweight log collectors for high-throughput environments.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">&#128187;</div>
                            <h4>OpenTelemetry Logs</h4>
                            <p>Native OTLP log export with automatic trace correlation.</p>
                        </div>
                        <div class="card">
                            <div class="card-icon">&#9729;&#65039;</div>
                            <h4>Cloud Provider Logs</h4>
                            <p>AWS CloudWatch, GCP Logging, Azure Monitor integration.</p>
                        </div>
                    </div>

                    <h3>Structured Log Format</h3>
                    <pre><code>{
  "timestamp": "2026-01-28T14:30:00.000Z",
  "level": "info",
  "message": "AI decision recorded",
  "trace_id": "abc123def456",
  "span_id": "span789",
  "attributes": {
    "ai.decision.type": "classification",
    "ai.decision.confidence": 0.94,
    "ai.input.category": "customer_inquiry",
    "ai.operator.id": "op_12345",
    "ai.database.consulted": "knowledge_base_v3"
  }
}</code></pre>

                    <h3>Environment Configuration</h3>
                    <pre><code># Enable all telemetry signals
export OTEL_ENABLED="true"

# Configure OTLP export
export OTEL_EXPORTER_OTLP_ENDPOINT="https://ingest.us.signoz.cloud"
export OTEL_EXPORTER_OTLP_PROTOCOL="http/protobuf"
export OTEL_EXPORTER_OTLP_COMPRESSION="gzip"

# Service identification for audit
export OTEL_SERVICE_NAME="ai-inference-service"
export OTEL_RESOURCE_ATTRIBUTES="deployment.environment=production,ai.act.compliance=enabled"

# Authentication
export SIGNOZ_INGESTION_KEY="your-key-here"</code></pre>
                </section>

                <!-- Data Collection -->
                <section id="data-collection" class="section-anchor">
                    <h2>Data Collection</h2>

                    <h3>GenAI Semantic Conventions</h3>
                    <p>OpenTelemetry's GenAI semantic conventions provide standardized attributes for AI observability:</p>

                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Attribute</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>gen_ai.system</code></td>
                                    <td>string</td>
                                    <td>AI provider (anthropic, openai, etc.)</td>
                                </tr>
                                <tr>
                                    <td><code>gen_ai.request.model</code></td>
                                    <td>string</td>
                                    <td>Model identifier used</td>
                                </tr>
                                <tr>
                                    <td><code>gen_ai.usage.input_tokens</code></td>
                                    <td>int</td>
                                    <td>Tokens in the input</td>
                                </tr>
                                <tr>
                                    <td><code>gen_ai.usage.output_tokens</code></td>
                                    <td>int</td>
                                    <td>Tokens in the output</td>
                                </tr>
                                <tr>
                                    <td><code>gen_ai.response.finish_reason</code></td>
                                    <td>string</td>
                                    <td>Why generation stopped</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Metrics for Compliance</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Type</th>
                                    <th>Compliance Purpose</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>gen_ai.client.token.usage</code></td>
                                    <td>Counter</td>
                                    <td>Track resource consumption</td>
                                </tr>
                                <tr>
                                    <td><code>gen_ai.client.operation.duration</code></td>
                                    <td>Histogram</td>
                                    <td>Performance monitoring</td>
                                </tr>
                                <tr>
                                    <td><code>ai.decisions.total</code></td>
                                    <td>Counter</td>
                                    <td>Volume of AI operations</td>
                                </tr>
                                <tr>
                                    <td><code>ai.decisions.by_risk_level</code></td>
                                    <td>Counter</td>
                                    <td>Risk categorization tracking</td>
                                </tr>
                                <tr>
                                    <td><code>ai.human_review.required</code></td>
                                    <td>Counter</td>
                                    <td>Human oversight metrics</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Storage & Retention -->
                <section id="storage-retention" class="section-anchor">
                    <h2>Storage & Retention</h2>

                    <p>The EU AI Act requires maintaining records for the <strong>lifetime of the AI system</strong>. This necessitates long-term, cost-effective storage strategies.</p>

                    <h3>Retention Requirements</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data Type</th>
                                    <th>Minimum Retention</th>
                                    <th>Recommended</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Operational logs</td>
                                    <td>System lifetime</td>
                                    <td>7+ years</td>
                                </tr>
                                <tr>
                                    <td>Decision audit trails</td>
                                    <td>System lifetime</td>
                                    <td>10+ years</td>
                                </tr>
                                <tr>
                                    <td>Model versions</td>
                                    <td>System lifetime</td>
                                    <td>Permanent</td>
                                </tr>
                                <tr>
                                    <td>Training data records</td>
                                    <td>System lifetime</td>
                                    <td>Permanent</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Dual Export Strategy</h3>
                    <p>We recommend exporting telemetry to both real-time dashboards and long-term archives:</p>

                    <pre><code>// Dual export configuration
const exporters = {
  // Real-time analysis (30-day retention)
  realtime: new OTLPTraceExporter({
    url: 'https://ingest.signoz.cloud/v1/traces',
    headers: { 'signoz-access-token': process.env.SIGNOZ_KEY },
  }),

  // Long-term archive (7+ year retention)
  archive: new FileSpanExporter({
    directory: '/var/log/ai-compliance',
    format: 'jsonl',
    rotationPolicy: 'daily',
  }),
};

// Export to both destinations
const processor = new BatchSpanProcessor(
  new MultiSpanExporter([exporters.realtime, exporters.archive])
);</code></pre>

                    <div class="callout callout-success">
                        <div class="callout-title">&#128200; Cost-Effective Archival</div>
                        <p>Use tiered storage: hot storage for recent data (30 days), warm storage for mid-term (1 year), and cold storage (S3 Glacier, etc.) for long-term compliance archives.</p>
                    </div>
                </section>

                <!-- Compliance Checklist -->
                <section id="compliance-checklist" class="section-anchor">
                    <h2>Compliance Checklist</h2>

                    <p>Use this checklist to verify your tracing implementation meets EU AI Act requirements:</p>

                    <h3>Technical Requirements</h3>
                    <ul>
                        <li>&#9745; Automatic logging enabled for all AI operations</li>
                        <li>&#9745; Trace IDs generated for request correlation</li>
                        <li>&#9745; Span attributes include required Article 12 data</li>
                        <li>&#9745; Input/output tokens recorded (redacted as needed)</li>
                        <li>&#9745; Operator/verifier identification captured</li>
                        <li>&#9745; Database/model versions logged</li>
                        <li>&#9745; Timestamps in ISO 8601 format</li>
                    </ul>

                    <h3>Operational Requirements</h3>
                    <ul>
                        <li>&#9745; Real-time monitoring dashboards configured</li>
                        <li>&#9745; Alerting for anomalous AI behavior</li>
                        <li>&#9745; Incident response procedures documented</li>
                        <li>&#9745; Post-market monitoring process established</li>
                        <li>&#9745; Human oversight workflows defined</li>
                    </ul>

                    <h3>Data Management</h3>
                    <ul>
                        <li>&#9745; PII redaction rules implemented</li>
                        <li>&#9745; Long-term retention storage configured</li>
                        <li>&#9745; Data export procedures for auditors</li>
                        <li>&#9745; Backup and disaster recovery tested</li>
                    </ul>
                </section>

                <!-- Audit Trails -->
                <section id="audit-trails" class="section-anchor">
                    <h2>Audit Trails</h2>

                    <p>Regulators and auditors will expect to see complete, immutable audit trails of AI system operations.</p>

                    <h3>Generating Audit Reports</h3>
                    <pre><code>// Query traces for audit period
const auditQuery = {
  service: 'ai-inference-service',
  startTime: '2026-01-01T00:00:00Z',
  endTime: '2026-01-31T23:59:59Z',
  attributes: {
    'ai.risk_level': 'high',
  },
};

// Export to compliance report format
const traces = await signoz.queryTraces(auditQuery);
const report = generateComplianceReport(traces, {
  format: 'pdf',
  includeMetrics: true,
  redactPII: true,
});</code></pre>

                    <h3>What Auditors Look For</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Audit Area</th>
                                    <th>Evidence Required</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>System Functioning</td>
                                    <td>Trace data showing normal operation patterns</td>
                                </tr>
                                <tr>
                                    <td>Risk Identification</td>
                                    <td>Alerts and anomaly detection logs</td>
                                </tr>
                                <tr>
                                    <td>Human Oversight</td>
                                    <td>Verification records with operator IDs</td>
                                </tr>
                                <tr>
                                    <td>Data Processing</td>
                                    <td>Input/output logs (appropriately redacted)</td>
                                </tr>
                                <tr>
                                    <td>Model Versions</td>
                                    <td>Deployment history with version tracking</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- PII Protection -->
                <section id="pii-protection" class="section-anchor">
                    <h2>PII Protection</h2>

                    <p>While logging is required, you must also protect personal data. Implement automatic PII redaction in your telemetry pipeline.</p>

                    <h3>Auto-Redacted Patterns</h3>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data Type</th>
                                    <th>Pattern</th>
                                    <th>Replacement</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Email addresses</td>
                                    <td><code>[\w.-]+@[\w.-]+</code></td>
                                    <td><code>[EMAIL]</code></td>
                                </tr>
                                <tr>
                                    <td>Phone numbers</td>
                                    <td><code>\+?[\d\s-]{10,}</code></td>
                                    <td><code>[PHONE]</code></td>
                                </tr>
                                <tr>
                                    <td>Credit cards</td>
                                    <td><code>\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}</code></td>
                                    <td><code>[CREDIT_CARD]</code></td>
                                </tr>
                                <tr>
                                    <td>SSN</td>
                                    <td><code>\d{3}-\d{2}-\d{4}</code></td>
                                    <td><code>[SSN]</code></td>
                                </tr>
                                <tr>
                                    <td>API keys</td>
                                    <td><code>sk-[a-zA-Z0-9]{32,}</code></td>
                                    <td><code>[API_KEY]</code></td>
                                </tr>
                                <tr>
                                    <td>JWT tokens</td>
                                    <td><code>eyJ[a-zA-Z0-9_-]+\.eyJ[a-zA-Z0-9_-]+\.[a-zA-Z0-9_-]+</code></td>
                                    <td><code>[JWT_TOKEN]</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <pre><code>// PII redaction middleware
const redactPII = (text: string): string => {
  return text
    .replace(/[\w.-]+@[\w.-]+\.\w+/g, '[EMAIL]')
    .replace(/\+?[\d\s-]{10,}/g, '[PHONE]')
    .replace(/\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}/g, '[CREDIT_CARD]')
    .replace(/\d{3}-\d{2}-\d{4}/g, '[SSN]')
    .replace(/sk-[a-zA-Z0-9]{32,}/g, '[API_KEY]');
};

// Apply to all logged content
logger.addProcessor((log) => ({
  ...log,
  message: redactPII(log.message),
  attributes: redactAttributes(log.attributes),
}));</code></pre>
                </section>

                <!-- Sources -->
                <section id="sources" class="section-anchor">
                    <h2>Sources & References</h2>

                    <h3>Official EU AI Act Resources</h3>
                    <ul>
                        <li><a href="https://digital-strategy.ec.europa.eu/en/policies/regulatory-framework-ai" target="_blank">EU AI Act - Shaping Europe's Digital Future</a></li>
                        <li><a href="https://artificialintelligenceact.eu/article/12/" target="_blank">Article 12: Record-Keeping Requirements</a></li>
                        <li><a href="https://artificialintelligenceact.eu/article/26/" target="_blank">Article 26: Obligations of Deployers</a></li>
                        <li><a href="https://artificialintelligenceact.eu/high-level-summary/" target="_blank">High-Level Summary of the AI Act</a></li>
                    </ul>

                    <h3>Implementation Guides</h3>
                    <ul>
                        <li><a href="https://newrelic.com/blog/best-practices/the-eu-artificial-intelligence-act-and-observability" target="_blank">New Relic: EU AI Act Compliance Through Observability</a></li>
                        <li><a href="https://abv.dev/blog/eu-ai-act-compliance-checklist-2025-2027" target="_blank">EU AI Act Compliance Checklist (2025-2027)</a></li>
                        <li><a href="https://www.modelop.com/ai-governance/ai-regulations-standards/eu-ai-act" target="_blank">ModelOp: EU AI Act Summary & Requirements</a></li>
                    </ul>

                    <h3>Technical Documentation</h3>
                    <ul>
                        <li><a href="https://opentelemetry.io/docs/" target="_blank">OpenTelemetry Documentation</a></li>
                        <li><a href="https://signoz.io/docs/" target="_blank">SigNoz Documentation</a></li>
                        <li><a href="/docs/llm-observability">Full Observability Framework Guide</a></li>
                    </ul>
                </section>

                <!-- Footer -->
                <footer style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-muted); font-size: 0.875rem;">
                    <p>Built with <a href="https://opentelemetry.io">OpenTelemetry</a> and <a href="https://signoz.io">SigNoz</a></p>
                    <p style="margin-top: 0.5rem;">&copy; 2026 Integrity Studio. All rights reserved.</p>
                </footer>
            </div>
        </main>
    </div>

    <script>
        // Sidebar active state on scroll
        const sections = document.querySelectorAll('.section-anchor');
        const navLinks = document.querySelectorAll('.sidebar-nav a');

        const observerOptions = {
            root: null,
            rootMargin: '-20% 0px -80% 0px',
            threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));
    </script>
</body>
</html>
